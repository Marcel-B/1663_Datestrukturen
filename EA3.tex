\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{ngerman}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{array}
\usepackage{german}
\usepackage{tikz}
\usepackage{subfigure} 
\usepackage{fancyhdr}
\usepackage{eurosym}
\usepackage[left=2cm, right=2cm, top=3cm, bottom=2cm]{geometry}
\usepackage{listings}
\usepackage{hyperref}
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\M}{$\times$}
\newcommand{\rA}{$\rightarrow $ }
\lstset{language=Pascal}
\lstset{backgroundcolor = \color{lightgray}, xleftmargin = 0.5cm, framexleftmargin = 1em}
\pagestyle{fancy}
\setlength{\parindent}{0em}
\newtheorem{Sa}{Satz}[subsection]
\newtheorem{Kor}{Korollar}[subsection]
\newtheorem{Prop}{Proposition}[subsection]
\newtheorem{Def}{Definition}[subsection]
\lhead{Marcel Benders}
\rhead{Matrikelnummer: 5431760}
\cfoot{Datenstrukturen - KE 3}
\begin{document}

\section*{EA3 - Aufgabe 1}

\subsection*{a}
Das kleinste Element erreicht man, indem man soweit wie möglich im Baum nach links geht.
Dies ist in $O(log n)$ zu erreichen. Um zum zweitkleinsten Element zu kommen beachten wir zwei Fälle:

\begin{itemize}
\item Fall 1: Ist das kleinste Element ein Blatt, so ist der Vater das zweitkleinste Element. Die 
Laufzeit beträgt $O(log n)$.
\item Fall 2: Das kleinste Element ist ein Knoten. Da der Baum balanciert ist, ist der rechte
Sohn des kleinsten Elements das zweitkleinste Element des Baums. Die Laufzeit beträgt auch hier $O(log n)$.
\end{itemize}


\subsection*{b}
Die Knoten müssen eine zusätzliche Information entahlten. Es handelt sich um die Anzahl
der Söhne zur linken Seite. 

\newpage

\section*{EA3 - Aufgabe 2}

\subsection*{a}
Die hinzugefügten Knoten sind grün gefüllt, die aus der Balance geratenen Knoten sind
rot umrandet.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb1}}
	\caption{Knoten 27 hinzugefügt}
	\label{img:abb1}
\end{figure}

Dem Baum in Abbildung \ref{img:abb1} wird die 27 hinzugefügt. Am Knoten 30 sowie Knoten 20 ist der Baum nicht mehr
in Balance. Der von unten aus erste Knoten, der mit Nummer 30, muss rotiert werden. Da Fall
a2.2 vorliegt, muss doppelt rotiert werden. Das Ergebnis ist in der nächsten Abbildung zu sehen.  


\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb2}}
	\caption{Knoten 26 hinzugefügt}
	\label{fig:abb2f}
\end{figure}

Nachdem der die 26 hinzugefügt wurde, ist der Baum am Knoten 20 unbalanciert. Die einzelnen
Teilbäume sind in der Abbildung \ref{fig:abb2f} durch Kreise markiert. Der Fall a2.1 ist 
eingetreten. Es muss wieder doppelt rotiert werden; das Ergebnis zeigt Abbildung \ref{fig:abb3b}.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb3}}
	\caption{Knoten 43 hinzugefügt}
	\label{fig:abb3b}
\end{figure}

Knoten 41 wurde hinzugefügt, der Teilbaum 35 ist unbalanciert. 
\newpage

Der Knoten 43 wurde eingefügt, an den Knoten 35 und 45 stimmt die Balance nicht. Es wird wieder
der untere, Knoten 45, doppelt rotiert (Fall a2.2).

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb4}}
	\caption{Knoten 41 hinzugefügt}
	\label{fig:abb4b}
\end{figure}

Die 41 wurde eingefügt, die Balance am Teilbaum 35 stimmt nicht mehr. Es muss nach Fall a2.2 doppelt
rotiert werden. Somit erhalten wir nach allen Einfügeoperationen den fertigen ausbalancierten
Baum in Abbildung \ref{fig:abb5b}.
\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb5}}
	\caption{Fertiger balancierter Baum}
	\label{fig:abb5b}
\end{figure}


\newpage

\subsection*{b}
Die zu löschenden Knoten sind Rot gefüllt, die aus der Balance geratenen Knoten sind
rot umrandet.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb6}}
	\caption{Knoten 150 löschen}
	\label{fig:abb6b}
\end{figure}
Knoten 150 wird gelöscht. Knoten 130 ist aus der Balance geraten. Eine einfache Rotation reicht.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb7}}
	\caption{Knoten  löschen}
	\label{fig:abb7b}
\end{figure}

Nach der Rotation ist Knoten 90 nicht mehr balanciert, nach b1.1 muss doppelt rotiert werden.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb8}}
	\caption{Knoten 80 löschen}
	\label{fig:abb8b}
\end{figure}

Als nächstes wird Knoten 80 gelöscht, dadurch gerät Knoten 90 aus der Balance. Es ist der
Fall b3, eine einfache Rotation.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb9}}
	\caption{Knoten 130 löschen}
	\label{fig:abb9b}
\end{figure}

\newpage

Knoten 130 wird gelöscht, dies hat zur Folge das Knoten 120 nicht mehr balanciert ist. Es handelt
sich um Fall b1, es wird doppelt rotiert.


\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb10}}
	\caption{Knoten 90 löschen}
	\label{fig:abb10b}
\end{figure}

Nachdem Knoten 90 gelöscht wurde, ist der Baum noch balanciert.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb11}}
	\caption{Knoten 120 löschen}
	\label{fig:abb11b}
\end{figure}

Nach der Löschung von Knoten 120, ist Knoten 70 nich mehr in Balance. Es ist Fall b3 eingetreten,
es muss einfach rotiert werden.

\newpage

Wir erhalten den fertig balancierten Baum aus Abbildung \ref{fig:abb12b}.

\begin{figure}[h]
	\centering
	\scalebox{.5}{\input{ea3_2_abb12}}
	\caption{Fertiger balancierter Baum}
	\label{fig:abb12b}
\end{figure}

\newpage


\section*{EA3 - Aufgabe 3}
Als erstes nummerieren wir zur Hilfe die Buchstaben durch.

(A, 1)(B, 2)(C, 3)(D, 4)(E, 5)(F, 6)(G, 7)(H, 8)(I, 9)(J, 10)(K, 11)(L, 12)(M, 13)(N, 14)(O, 15)(P, 16)(Q, 17)(R, 18)(S, 19)(T, 20)(U, 21)(V, 22)(W, 23)(X, 24)(Y, 25)(Z, 26)
\\

Heidrun soll eingepflegt werden. Dazu werden die Werte der ersten drei Buchstaben summiert: Es gilt H=8, E=5, I=9 $\Rightarrow 8 + 5 + 9 = 22$. Daraus wird das Quadrat gebildet:
$22^2=484$. Wir nehmen den mittleren Wert, also 8. An dieser Stelle wird der Name eingepflegt. Analog werden die Plätze der anderen Namen ermittelt. Gibt es eine Kollision,
wird $i^2, \text{ mit } i = \text{ Anzahl der Kollisionen}$ zum mittleren Wert addiert. Hat der Name keinen mittleren Buchstaben, wird vom mittleren Paar der rechte
Buchstabe genommen.

Die einzelnen Schritte sind der untenstehenden Tabelle zu entnehmen:
\\
\begin{tabular}{|l|l|l|r|}
\hline
Name        & k         & $k^2$                         & $h(k)$                        \\
\hline
\hline
Heidrun     & 22        & 4\underline{8}4               & 8                             \\
Anne        & 29        & 8\underline{4}1               & 4                             \\
Hartmut     & 27        & 7\underline{2}9               & 2                             \\
Christian   & 29        & 8\underline{4}1               & $4 \Rightarrow h(x)+1^2 = 4 + 1 = 5\text{ mod }10=5$  \\
Simone      & 41        & 16\underline{8}1              & $8 \Rightarrow h(x)+1^2 = 8 + 1 = 9\text{ mod }10=9$  \\
Frank       & 25        & 6\underline{2}5               & $2 \Rightarrow h(x)+1^2 = 2 + 1 = 3\text{ mod }10=3 $    \\
Markus      & 32        & 10\underline{2}4              & $2 \Rightarrow h(x)+1^2 = 2 + 1 = 3 \Rightarrow h(x)+2^2= 2 + 4 = 6\text{ mod }10=6$ \\
Thomas      & 43        & 18\underline{4}9              & $4 \Rightarrow h(x)+1^2 = 4 + 1 = 5 \Rightarrow \dots \Rightarrow h(x)+6^2= 4 + 36 = 40\text{ mod }10=0$ \\
\hline
\end{tabular}

Somit ist die Hashtabelle wiefolgt befüllt:
\\

\begin{tabular}{|l|l|}
\hline
Behälter        & Name  \\
\hline
\hline
0 & Thomas \\
\hline
1 & -- \\
\hline
2 & Hartmut \\
\hline
3 & Frank \\
\hline
4 & Anna \\
\hline
5 & Christian \\
\hline
6 & Markus \\
\hline
7 & -- \\
\hline
8 & Heidrun \\
\hline
9 & Simone \\
\hline
\end{tabular}

\newpage

\section*{EA3 - Aufgabe 4}
\subsection*{a}
In den folgenden Abbildungen sind die Jeweiligen Bäume nach der Einfügung und Umstrukturierung
aufgezeigt.

\begin{figure}[h] 
	\centering
    \subfigure[+3]{\scalebox{.5}{\input{ea3_4_abb1}}} 
	\hspace{3cm}
    \subfigure[+4]{\scalebox{.5}{\input{ea3_4_abb2}}} 
	\hspace{3cm}
	\subfigure[1 eingefügt]{\scalebox{.5}{\input{ea3_4_abb3}}}
%\caption{Titel unterm gesamten Bild} 
\end{figure} 


\begin{figure}[h] 
	\centering
    \subfigure[10 eingefügt]{\scalebox{.5}{\input{ea3_4_abb4}}} 
	\hspace{1cm}
    \subfigure[19 eingefügt]{\scalebox{.5}{\input{ea3_4_abb5}}} 
	\hspace{1cm}
	\subfigure[2 eingefügt]{\scalebox{.5}{\input{ea3_4_abb6}}}
%\caption{Titel unterm gesamten Bild} 
\end{figure} 


\begin{figure}[h] 
	\centering
    \subfigure[2 eingefügt]{\scalebox{.5}{\input{ea3_4_abb7}}} 
	\hspace{2cm}
    \subfigure[5 eingefügt]{\scalebox{.5}{\input{ea3_4_abb8}}} 
%\caption{Titel unterm gesamten Bild} 
\end{figure} 


\begin{figure}[h] 
	\centering
    \subfigure[7 eingefügt]{\scalebox{.5}{\input{ea3_4_abb9}}} 
	\hspace{2cm}
    \subfigure[16 eingefügt]{\scalebox{.5}{\input{ea3_4_abb10}}} 
%\caption{Titel unterm gesamten Bild} 
\end{figure} 



\newpage


\subsection*{b}


\begin{figure}[h] 
	\centering
    \subfigure[19 gelöscht]{\scalebox{.5}{\input{ea3_4_abb11}}} 
	\hspace{1cm}
    \subfigure[16 gelöscht]{\scalebox{.5}{\input{ea3_4_abb12}}} 
%\caption{Titel unterm gesamten Bild} 
\end{figure} 

\begin{figure}[h] 
	\centering
    \subfigure[10 gelöscht]{\scalebox{.5}{\input{ea3_4_abb13}}} 
	\hspace{1cm}
    \subfigure[8 gelöscht]{\scalebox{.5}{\input{ea3_4_abb14}}} 
%\caption{Titel unterm gesamten Bild} 
\end{figure} 

\begin{figure}[h] 
	\centering
    \subfigure[7 gelöscht]{\scalebox{.5}{\input{ea3_4_abb15}}} 
%\caption{Titel unterm gesamten Bild} 
\end{figure} 

\end{document}